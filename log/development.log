

Started POST "/compile_documents/1.csv" for 127.0.0.1 at 2011-08-04 12:06:35 -0400
  Processing by SitesController#compile_documents as CSV
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"A2wxFXmlX0Y9HX55m4HEaOIXrH1uSbEbgN81/oJlS/8=", "commit"=>"Compile Documents", "id"=>"1"}
  [1m[36mSite Load (0.3ms)[0m  [1mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  [1m[35mDocument Load (0.4ms)[0m  SELECT `documents`.* FROM `documents` WHERE `documents`.`site_id` = 1
********Output********* New City HEADER1,Reliable Air Conditioning repair in [city],1-Air Conditioning Repair
********Output********* New City INTRO1 S1,"American Standard Heating and Air Conditioning is a name families have relied on to deliver superior home comfort in [city] for years.* So if your air conditioner has stopped performing as it should, you can feel confident knowing that the same reliable quality can also be found with our air conditioning repair, even if your air conditioning unit came from someplace else.* American Standard; a name you can believe in for quality heating, air conditioning repair in [city].",1-Air Conditioning Repair
********Output********* New City CTA 1 S1,Need to schedule an appointment for air conditioning repair in [city]?* Contact the independent American Standard dealer nearest you.,1-Air Conditioning Repair
********Output********* New City CTA 1 S2,Call xxxxxxxxxx today.,1-Air Conditioning Repair
********Output********* New City SUB1,The American Standard technician performing your air conditioning repair is:,1-Air Conditioning Repair
********Output********* New City BULLETS1,<ul><li>Certified</li><li>Insured</li><li>Licensed</li><li>Highly Trained</li></ul>,1-Air Conditioning Repair
********Output********* New City SUB2,Save on air conditioning Repair in [city],1-Air Conditioning Repair
********Output********* New City BODY1 S1,"Although your American Standard air conditioner was designed for years of worry-free performance, there are times when it may require special attention.",1-Air Conditioning Repair
********Output********* New City BODY1 S2,"Your local, authorized American Standard HVAC dealer provides the best in quality air conditioning repair in [city].* So you can feel confident knowing that your air conditioning repair will be handled by a certified technician with expert knowledge and a commitment to providing you with a superior level of customer service.",1-Air Conditioning Repair
********Output********* New City BODY1 S3,Need a quote on air conditioning repair in [city]?,1-Air Conditioning Repair
********Output********* New City BODY1 S4,"Contact your local independent American Standard Heating and Air Conditioning Dealer, now!",1-Air Conditioning Repair
********Output********* New City BODY2 S1,"If you&rsquo;re thinking about purchasing a new system rather than opting for air conditioning repair in [city], our independant customer care&trade; dealers deliver top quality customer service and a selection of energy saving products that set the standard in efficient home air conditioning.*",1-Air Conditioning Repair
********Output********* New City BODY3 S1,"At American Standard, we stand behind every air conditioner we make and independant customer care&trade; dealers stand behind every air conditioning repair service they provide, so if the time has come for air conditioning repair in [city], their qualified technicians will provide possible remedies so you can get back to enjoying your home in comfort.*",1-Air Conditioning Repair
********Output********* New City CALL1 S1,"Contact your local independent American Standard Heating and Air Conditioning customer care&trade; dealers today, to schedule air conditioning repair in [city] xxx xxx xxxx!",1-Air Conditioning Repair
********Output********* New City HEAD1,American Standard Air Conditioning in [city],2-Air Conditioning Sales
********Output********* New City INTRO1 S1,"Enhance home comfort while conserving energy, with dependable, energy-efficient air conditioning in [city] from American Standard.* Our outstanding line of home comfort products feature some of the industry&rsquo;s highest rated and consumer tested products available today.*  We manufacture an American Standard air conditioning system that&rsquo;s just right for your home comfort needs.* To learn more, talk to your local American Standard Heating & Air Conditioning independent customer care&trade; dealer today.",2-Air Conditioning Sales
********Output********* New City CALL1 S1,Talk to your local American Standard Heating & Air Conditioning independent customer care&trade; dealer about air conditioning in [city]!,2-Air Conditioning Sales
********Output********* New City CALL1 S2,Call xxx-xxx-xxxx!,2-Air Conditioning Sales
********Output********* New City SUB1,"For experts in air conditioning in [city], call an American Standard dealer",2-Air Conditioning Sales
********Output********* New City BODY1,<h3>Our dealers are:</h3><ul><li>Highly Trained</li><li>Knowledgeable</li> <li>Certified</li><li>Local</li></ul>,2-Air Conditioning Sales
********Output********* New City SUB2,Increase home comfort while decreasing energy expenditures,2-Air Conditioning Sales
********Output********* New City BODY2 S1,"American Standard HVAC will help you find the air conditioning system that&rsquo;s ideal for your home by keeping you cool and comfortable, and energy costs low.* Your local independent American Standard dealer knows air conditioning systems and will help select the one that fits the size of your home and the size of your budget &hellip;in fact, with air conditioning in [city] from American Standard; you may be able to save up to 50% on your cooling bill.",2-Air Conditioning Sales
********Output********* New City BODY3 S1,"The Heritage Hybrid&trade; heating system is an excellent example of our energy-efficient home heating systems offered here in [city].*  The Heritage Hybrid&trade; heating system selects between a furnace or a heat pump depending on the outside temperature, ensuring you only use the most efficient fuel source for the conditions outside.*  Contact your local independent American Standard dealer if you want to learn more about installing an American Standard air conditioning in [city], now.",2-Air Conditioning Sales
********Output********* New City SUB3,Year-round comfort is easy with American Standard,2-Air Conditioning Sales
********Output********* New City BODY4 S1,"At American Standard HVAC, we want you to feel comfortable in your home no matter what the weather is like outside.* Whether you need new air conditioning in [city], home heating, or an air filtration system, look to the professionals in Air Conditioning and Home Heating â€“American Standard Heating & Air Conditioning.",2-Air Conditioning Sales
********Output********* New City CALL2 S1,Ready to learn more about air conditioning in [city]?,2-Air Conditioning Sales
********Output********* New City CALL2 S2,Contact your local independent American Standard Heating & Air Conditioning independent customer care&trade; dealer in [city].,2-Air Conditioning Sales
********Output********* New City HEADER1,Air Conditioning Repair in [city],2-Air Conditioning Repair
********Output********* New City INTRO1 S1,"American Standard Heating & Air Conditioning is a name families have recognized for superior home comfort in [city] for many years.* If your air conditioner isn&rsquo;t performing optimally, you can feel confident knowing that American Standard provides the same reliable quality with our air conditioning repair, even if your air conditioning unit came from someplace else.* Go with a name you can believe in for quality heating and air conditioning repair in [city]; American Standard.",2-Air Conditioning Repair
********Output********* New City CTA 1 S1,Schedule an appointment for air conditioning repair in [city] today.,2-Air Conditioning Repair
********Output********* New City CTA 1 S2,Contact the independent American Standard dealer nearest you.,2-Air Conditioning Repair
********Output********* New City CTA 1 S3,Call xxxxxxxxxx today.,2-Air Conditioning Repair
********Output********* New City SUB1,The American Standard specialist who will complete your air conditioning repair is:,2-Air Conditioning Repair
********Output********* New City BULLETS1,<ul><li>Certified</li><li>Insured</li><li>Licensed</li><li>Highly Trained</li></ul>,2-Air Conditioning Repair
********Output********* New City SUB2 S1,Get American Standard air conditioning Repair in [city] and Save!,2-Air Conditioning Repair
********Output********* New City BODY1 S1,"Even though your American Standard air conditioner was built to bring you years of worry-free performance, occasionally it may need special attention.* For the best in quality air conditioning repair in [city] visit your local, authorized American Standard HVAC dealer.* Your air conditioning repair will be handled by a certified technician who is committed to providing you with expert knowledge and a superior level of customer service.* Want a quote on air conditioning repair in [city]?",2-Air Conditioning Repair
********Output********* New City BODY1 S2,"Ask your local independent American Standard Heating & Air Conditioning Dealer, now!",2-Air Conditioning Repair
********Output********* New City BODY2 S1,"Are you considering the purchase of a new system rather than choosing air conditioning repair in [city], if so, our independent Customer Care&trade; dealers provide a wide selection of energy saving products that set the standard in efficient home air conditioning and home comfort.",2-Air Conditioning Repair
********Output********* New City BODY3 S1,"At American Standard, our seal of approval is on every air conditioner we make and our independent Customer Care&trade; dealers put their seal of approval on every air conditioning repair service they provide, so if you need air conditioning repair in [city], our qualified technicians will provide a resolution so you can get back to basking in home comfort.",2-Air Conditioning Repair
********Output********* New City CALL1 S1,"Contact your local independent American Standard Heating & Air Conditioning Customer Care&trade; dealers today, to schedule air conditioning repair in [city] xxx xxx xxxx!",2-Air Conditioning Repair
********Output********* New City HEAD1,<!-- empty -->,empty for: Air Conditioning Repair
********Output********* New City CALL1 S2,<!-- empty -->,empty for: Air Conditioning Repair
********Output********* New City BODY1,<!-- empty -->,empty for: Air Conditioning Repair
********Output********* New City SUB3,<!-- empty -->,empty for: Air Conditioning Repair
********Output********* New City BODY4 S1,<!-- empty -->,empty for: Air Conditioning Repair
********Output********* New City CALL2 S1,<!-- empty -->,empty for: Air Conditioning Repair
********Output********* New City CALL2 S2,<!-- empty -->,empty for: Air Conditioning Repair
********Output********* New City HEADER1,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City CTA 1 S1,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City CTA 1 S2,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City BULLETS1,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City BODY1 S1,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City BODY1 S2,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City BODY1 S3,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City BODY1 S4,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City CTA 1 S3,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City SUB2 S1,<!-- empty -->,empty for: Air Conditioning Sales
Rendered text template (0.0ms)
Sent data Test.csv (5.4ms)
Completed 200 OK in 132ms (Views: 5.2ms | ActiveRecord: 5.1ms)


Started GET "/sites/1" for 127.0.0.1 at 2011-08-04 12:37:55 -0400
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSite Load (0.3ms)[0m  [1mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  [1m[35mDocument Load (0.5ms)[0m  SELECT `documents`.* FROM `documents` WHERE `documents`.`site_id` = 1
Rendered sites/show.html.haml within layouts/application (51.2ms)
Completed 200 OK in 75ms (Views: 45.7ms | ActiveRecord: 27.0ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 12:37:56 -0400
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 12:37:56 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/sites/1/documents/3" for 127.0.0.1 at 2011-08-04 12:38:05 -0400
  Processing by DocumentsController#show as HTML
  Parameters: {"site_id"=>"1", "id"=>"3"}
  [1m[36mDocument Load (0.3ms)[0m  [1mSELECT `documents`.* FROM `documents` WHERE `documents`.`id` = 3 LIMIT 1[0m
  [1m[35mSite Load (0.6ms)[0m  SELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1
Rendered documents/show.html.haml within layouts/application (11.4ms)
Completed 200 OK in 42ms (Views: 19.7ms | ActiveRecord: 5.8ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 12:38:05 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 12:38:05 -0400
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/sites/1/documents/3/edit" for 127.0.0.1 at 2011-08-04 12:38:10 -0400
  Processing by DocumentsController#edit as HTML
  Parameters: {"site_id"=>"1", "id"=>"3"}
  [1m[36mDocument Load (0.3ms)[0m  [1mSELECT `documents`.* FROM `documents` WHERE `documents`.`id` = 3 LIMIT 1[0m
  [1m[35mSite Load (0.3ms)[0m  SELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1
Rendered documents/_form.html.haml (14.8ms)
Rendered documents/edit.html.haml within layouts/application (16.7ms)
Completed 200 OK in 99ms (Views: 24.6ms | ActiveRecord: 5.5ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 12:38:10 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 12:38:10 -0400
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/sites/1/documents/1" for 127.0.0.1 at 2011-08-04 12:38:55 -0400
  Processing by DocumentsController#show as HTML
  Parameters: {"site_id"=>"1", "id"=>"1"}
  [1m[36mDocument Load (0.3ms)[0m  [1mSELECT `documents`.* FROM `documents` WHERE `documents`.`id` = 1 LIMIT 1[0m
  [1m[35mSite Load (0.3ms)[0m  SELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1
Rendered documents/show.html.haml within layouts/application (10.7ms)
Completed 200 OK in 41ms (Views: 18.7ms | ActiveRecord: 5.8ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 12:38:55 -0400
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 12:38:55 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/sites/1/documents/1/edit" for 127.0.0.1 at 2011-08-04 12:38:58 -0400
  Processing by DocumentsController#edit as HTML
  Parameters: {"site_id"=>"1", "id"=>"1"}
  [1m[36mDocument Load (0.3ms)[0m  [1mSELECT `documents`.* FROM `documents` WHERE `documents`.`id` = 1 LIMIT 1[0m
  [1m[35mSite Load (0.4ms)[0m  SELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1
Rendered documents/_form.html.haml (14.2ms)
Rendered documents/edit.html.haml within layouts/application (15.9ms)
Completed 200 OK in 50ms (Views: 25.5ms | ActiveRecord: 6.2ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 12:38:58 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 12:38:58 -0400
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/sites/1/documents/3" for 127.0.0.1 at 2011-08-04 12:39:04 -0400
  Processing by DocumentsController#show as HTML
  Parameters: {"site_id"=>"1", "id"=>"3"}
  [1m[36mDocument Load (1.3ms)[0m  [1mSELECT `documents`.* FROM `documents` WHERE `documents`.`id` = 3 LIMIT 1[0m
  [1m[35mSite Load (0.3ms)[0m  SELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1
Rendered documents/show.html.haml within layouts/application (11.2ms)
Completed 200 OK in 94ms (Views: 20.0ms | ActiveRecord: 6.0ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 12:39:04 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 12:39:04 -0400
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/sites/1" for 127.0.0.1 at 2011-08-04 12:40:11 -0400
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSite Load (0.3ms)[0m  [1mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  [1m[35mDocument Load (0.9ms)[0m  SELECT `documents`.* FROM `documents` WHERE `documents`.`site_id` = 1
Rendered sites/show.html.haml within layouts/application (98.9ms)
Completed 200 OK in 115ms (Views: 94.3ms | ActiveRecord: 17.9ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 12:40:11 -0400
Served asset /application.css - 200 OK (0ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 12:40:11 -0400
Served asset /application.js - 200 OK (0ms)


Started GET "/sites/1/documents/2/edit" for 127.0.0.1 at 2011-08-04 12:40:40 -0400
  Processing by DocumentsController#edit as HTML
  Parameters: {"site_id"=>"1", "id"=>"2"}
  [1m[36mDocument Load (0.3ms)[0m  [1mSELECT `documents`.* FROM `documents` WHERE `documents`.`id` = 2 LIMIT 1[0m
  [1m[35mSite Load (0.6ms)[0m  SELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1
Rendered documents/_form.html.haml (17.1ms)
Rendered documents/edit.html.haml within layouts/application (18.9ms)
Completed 200 OK in 54ms (Views: 27.1ms | ActiveRecord: 6.5ms)


Started GET "/sites/1/documents/2/edit" for 127.0.0.1 at 2011-08-04 12:40:49 -0400
  Processing by DocumentsController#edit as HTML
  Parameters: {"site_id"=>"1", "id"=>"2"}
  [1m[36mDocument Load (0.4ms)[0m  [1mSELECT `documents`.* FROM `documents` WHERE `documents`.`id` = 2 LIMIT 1[0m
  [1m[35mSite Load (0.3ms)[0m  SELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1
Rendered documents/_form.html.haml (17.0ms)
Rendered documents/edit.html.haml within layouts/application (18.9ms)
Completed 200 OK in 49ms (Views: 26.1ms | ActiveRecord: 6.0ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 12:40:50 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 12:40:50 -0400
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/sites/1/documents/2/edit" for 127.0.0.1 at 2011-08-04 12:40:56 -0400
  Processing by DocumentsController#edit as HTML
  Parameters: {"site_id"=>"1", "id"=>"2"}
  [1m[36mDocument Load (0.4ms)[0m  [1mSELECT `documents`.* FROM `documents` WHERE `documents`.`id` = 2 LIMIT 1[0m
  [1m[35mSite Load (0.3ms)[0m  SELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1
Rendered documents/_form.html.haml (17.3ms)
Rendered documents/edit.html.haml within layouts/application (19.1ms)
Completed 200 OK in 105ms (Views: 26.8ms | ActiveRecord: 7.5ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 12:40:56 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 12:40:56 -0400
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/sites/1/documents" for 127.0.0.1 at 2011-08-04 12:41:06 -0400
  Processing by DocumentsController#index as HTML
  Parameters: {"site_id"=>"1"}
  [1m[36mDocument Load (0.5ms)[0m  [1mSELECT `documents`.* FROM `documents` [0m
Rendered documents/index.html.erb within layouts/application (100.5ms)
Completed 500 Internal Server Error in 148ms

ActionView::Template::Error (undefined method `document_path' for #<#<Class:0x00000100c0b448>:0x00000100beab80>):
    11: <% @documents.each do |document| %>
    12:   <tr>
    13:     <td><%= document.content %></td>
    14:     <td><%= link_to 'Show', document %></td>
    15:     <td><%= link_to 'Edit', edit_document_path(document) %></td>
    16:     <td><%= link_to 'Destroy', document, confirm: 'Are you sure?', method: :delete %></td>
    17:   </tr>
  app/views/documents/index.html.erb:14:in `block in _app_views_documents_index_html_erb__3782105562155153007_2153717960'
  app/views/documents/index.html.erb:11:in `each'
  app/views/documents/index.html.erb:11:in `_app_views_documents_index_html_erb__3782105562155153007_2153717960'
  app/controllers/documents_controller.rb:7:in `index'

Rendered /Users/aaronmcleod/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.1.0.rc5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /Users/aaronmcleod/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.1.0.rc5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
Rendered /Users/aaronmcleod/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.1.0.rc5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (6.9ms)


Started GET "/sites/1/documents" for 127.0.0.1 at 2011-08-04 12:43:33 -0400
  Processing by DocumentsController#index as HTML
  Parameters: {"site_id"=>"1"}
  [1m[35mCACHE (0.0ms)[0m  SELECT `documents`.* FROM `documents` 
Rendered documents/index.html.erb within layouts/application (7.1ms)
Completed 500 Internal Server Error in 19ms

ActionView::Template::Error (No route matches {:action=>"show", :controller=>"documents", :site_id=>nil, :id=>#<Document id: 1, content: "/*\r\nType: Air Conditioning Repair\r\nLayer: New City\r...", created_at: "2011-08-04 13:44:37", updated_at: "2011-08-04 13:44:37", site_id: 1>}):
    11: <% @documents.each do |document| %>
    12:   <tr>
    13:     <td><%= document.content %></td>
    14:     <td><%= link_to 'Show', site_document_path(@site, document) %></td>
    15:     <td><%= link_to 'Edit', site_edit_document_path(@site, document) %></td>
    16:     <td><%= link_to 'Destroy', document, confirm: 'Are you sure?', method: :delete %></td>
    17:   </tr>
  app/views/documents/index.html.erb:14:in `block in _app_views_documents_index_html_erb__3782105562155153007_2154526020'
  app/views/documents/index.html.erb:11:in `each'
  app/views/documents/index.html.erb:11:in `_app_views_documents_index_html_erb__3782105562155153007_2154526020'
  app/controllers/documents_controller.rb:7:in `index'

Rendered /Users/aaronmcleod/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.1.0.rc5/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/sites/1/documents" for 127.0.0.1 at 2011-08-04 12:43:59 -0400
  Processing by DocumentsController#index as HTML
  Parameters: {"site_id"=>"1"}
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `documents`.* FROM `documents` [0m
Rendered documents/index.html.erb within layouts/application (7.2ms)
Completed 500 Internal Server Error in 19ms

ActionView::Template::Error (No route matches {:action=>"show", :controller=>"documents", :site_id=>nil, :id=>#<Document id: 1, content: "/*\r\nType: Air Conditioning Repair\r\nLayer: New City\r...", created_at: "2011-08-04 13:44:37", updated_at: "2011-08-04 13:44:37", site_id: 1>}):
    11: <% @documents.each do |document| %>
    12:   <tr>
    13:     <td><%= document.content %></td>
    14:     <td><%= link_to 'Show', site_document_path(@site, document) %></td>
    15:     <td><%= link_to 'Edit', edit_site_document_path(@site, document) %></td>
    16:     <td><%= link_to 'Destroy', document, confirm: 'Are you sure?', method: :delete %></td>
    17:   </tr>
  app/views/documents/index.html.erb:14:in `block in _app_views_documents_index_html_erb__3782105562155153007_2158763040'
  app/views/documents/index.html.erb:11:in `each'
  app/views/documents/index.html.erb:11:in `_app_views_documents_index_html_erb__3782105562155153007_2158763040'
  app/controllers/documents_controller.rb:7:in `index'

Rendered /Users/aaronmcleod/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.1.0.rc5/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/sites/1/documents" for 127.0.0.1 at 2011-08-04 12:44:00 -0400
  Processing by DocumentsController#index as HTML
  Parameters: {"site_id"=>"1"}
  [1m[35mCACHE (0.0ms)[0m  SELECT `documents`.* FROM `documents` 
Rendered documents/index.html.erb within layouts/application (6.4ms)
Completed 500 Internal Server Error in 19ms

ActionView::Template::Error (No route matches {:action=>"show", :controller=>"documents", :site_id=>nil, :id=>#<Document id: 1, content: "/*\r\nType: Air Conditioning Repair\r\nLayer: New City\r...", created_at: "2011-08-04 13:44:37", updated_at: "2011-08-04 13:44:37", site_id: 1>}):
    11: <% @documents.each do |document| %>
    12:   <tr>
    13:     <td><%= document.content %></td>
    14:     <td><%= link_to 'Show', site_document_path(@site, document) %></td>
    15:     <td><%= link_to 'Edit', edit_site_document_path(@site, document) %></td>
    16:     <td><%= link_to 'Destroy', document, confirm: 'Are you sure?', method: :delete %></td>
    17:   </tr>
  app/views/documents/index.html.erb:14:in `block in _app_views_documents_index_html_erb__3782105562155153007_2158763040'
  app/views/documents/index.html.erb:11:in `each'
  app/views/documents/index.html.erb:11:in `_app_views_documents_index_html_erb__3782105562155153007_2158763040'
  app/controllers/documents_controller.rb:7:in `index'

Rendered /Users/aaronmcleod/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.1.0.rc5/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/sites/1/documents" for 127.0.0.1 at 2011-08-04 12:44:28 -0400
  Processing by DocumentsController#index as HTML
  Parameters: {"site_id"=>"1"}
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `documents`.* FROM `documents` [0m
  [1m[35mSite Load (0.4ms)[0m  SELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1
Rendered documents/index.html.erb within layouts/application (59.4ms)
Completed 500 Internal Server Error in 88ms

ActionView::Template::Error (undefined method `document_path' for #<#<Class:0x00000101435b50>:0x00000101415af8>):
    13:     <td><%= document.content %></td>
    14:     <td><%= link_to 'Show', site_document_path(@site, document) %></td>
    15:     <td><%= link_to 'Edit', edit_site_document_path(@site, document) %></td>
    16:     <td><%= link_to 'Destroy', document, confirm: 'Are you sure?', method: :delete %></td>
    17:   </tr>
    18: <% end %>
    19: </table>
  app/views/documents/index.html.erb:16:in `block in _app_views_documents_index_html_erb__3782105562155153007_2158763040'
  app/views/documents/index.html.erb:11:in `each'
  app/views/documents/index.html.erb:11:in `_app_views_documents_index_html_erb__3782105562155153007_2158763040'
  app/controllers/documents_controller.rb:7:in `index'

Rendered /Users/aaronmcleod/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.1.0.rc5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Users/aaronmcleod/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.1.0.rc5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (47.2ms)
Rendered /Users/aaronmcleod/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.1.0.rc5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (51.1ms)


Started GET "/sites/1/documents" for 127.0.0.1 at 2011-08-04 12:44:50 -0400
  Processing by DocumentsController#index as HTML
  Parameters: {"site_id"=>"1"}
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `documents`.* FROM `documents` [0m
  [1m[35mSite Load (0.4ms)[0m  SELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1
Rendered documents/index.html.erb within layouts/application (123.7ms)
Completed 500 Internal Server Error in 164ms

ActionView::Template::Error (undefined local variable or method `new_document_path' for #<#<Class:0x000001010b0228>:0x000001010a08f0>):
    20: 
    21: <br />
    22: 
    23: <%= link_to 'New Document', new_document_path %>
  app/views/documents/index.html.erb:23:in `_app_views_documents_index_html_erb__3782105562155153007_2156195600'
  app/controllers/documents_controller.rb:7:in `index'

Rendered /Users/aaronmcleod/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.1.0.rc5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /Users/aaronmcleod/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.1.0.rc5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
Rendered /Users/aaronmcleod/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.1.0.rc5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (4.9ms)


Started GET "/sites/1/documents" for 127.0.0.1 at 2011-08-04 12:45:06 -0400
  Processing by DocumentsController#index as HTML
  Parameters: {"site_id"=>"1"}
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `documents`.* FROM `documents` [0m
  [1m[35mSite Load (0.4ms)[0m  SELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1
Rendered documents/index.html.erb within layouts/application (70.0ms)
Completed 200 OK in 100ms (Views: 78.0ms | ActiveRecord: 4.9ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 12:45:06 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 12:45:06 -0400
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/sites/1/documents" for 127.0.0.1 at 2011-08-04 12:45:42 -0400
  Processing by DocumentsController#index as HTML
  Parameters: {"site_id"=>"1"}
  [1m[36mDocument Load (0.4ms)[0m  [1mSELECT `documents`.* FROM `documents` [0m
  [1m[35mSite Load (0.5ms)[0m  SELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1
Rendered documents/index.html.erb within layouts/application (17.3ms)
Completed 200 OK in 47ms (Views: 24.6ms | ActiveRecord: 6.3ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 12:45:42 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 12:45:42 -0400
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/sites/1" for 127.0.0.1 at 2011-08-04 12:45:44 -0400
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSite Load (0.3ms)[0m  [1mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  [1m[35mDocument Load (0.5ms)[0m  SELECT `documents`.* FROM `documents` WHERE `documents`.`site_id` = 1
Rendered sites/show.html.haml within layouts/application (34.2ms)
Completed 200 OK in 46ms (Views: 38.8ms | ActiveRecord: 5.5ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 12:45:44 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 12:45:44 -0400
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/sites/1/documents/1/edit" for 127.0.0.1 at 2011-08-04 12:45:45 -0400
  Processing by DocumentsController#edit as HTML
  Parameters: {"site_id"=>"1", "id"=>"1"}
  [1m[36mDocument Load (0.3ms)[0m  [1mSELECT `documents`.* FROM `documents` WHERE `documents`.`id` = 1 LIMIT 1[0m
  [1m[35mSite Load (0.4ms)[0m  SELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1
Rendered documents/_form.html.haml (15.0ms)
Rendered documents/edit.html.haml within layouts/application (18.6ms)
Completed 200 OK in 98ms (Views: 25.4ms | ActiveRecord: 6.7ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 12:45:45 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 12:45:45 -0400
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/sites.1" for 127.0.0.1 at 2011-08-04 12:45:47 -0400
  Processing by SitesController#index as 
  [1m[36mSite Load (0.3ms)[0m  [1mSELECT `sites`.* FROM `sites` [0m
Completed 406 Not Acceptable in 4ms


Started GET "/sites/1/documents/1/edit" for 127.0.0.1 at 2011-08-04 12:45:58 -0400
  Processing by DocumentsController#edit as HTML
  Parameters: {"site_id"=>"1", "id"=>"1"}
  [1m[35mDocument Load (0.3ms)[0m  SELECT `documents`.* FROM `documents` WHERE `documents`.`id` = 1 LIMIT 1
  [1m[36mSite Load (0.3ms)[0m  [1mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
Rendered documents/_form.html.haml (13.4ms)
Rendered documents/edit.html.haml within layouts/application (16.5ms)
Completed 200 OK in 103ms (Views: 24.6ms | ActiveRecord: 6.7ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 12:45:58 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 12:45:58 -0400
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/sites/1" for 127.0.0.1 at 2011-08-04 12:46:01 -0400
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSite Load (0.3ms)[0m  SELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1
  [1m[36mDocument Load (0.5ms)[0m  [1mSELECT `documents`.* FROM `documents` WHERE `documents`.`site_id` = 1[0m
Rendered sites/show.html.haml within layouts/application (83.9ms)
Completed 200 OK in 98ms (Views: 90.0ms | ActiveRecord: 5.6ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 12:46:01 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 12:46:01 -0400
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/sites/1/documents/1/edit" for 127.0.0.1 at 2011-08-04 12:56:23 -0400
  Processing by DocumentsController#edit as HTML
  Parameters: {"site_id"=>"1", "id"=>"1"}
  [1m[35mDocument Load (0.3ms)[0m  SELECT `documents`.* FROM `documents` WHERE `documents`.`id` = 1 LIMIT 1
  [1m[36mSite Load (0.4ms)[0m  [1mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
Rendered documents/_form.html.haml (13.1ms)
Rendered documents/edit.html.haml within layouts/application (14.7ms)
Completed 200 OK in 43ms (Views: 21.3ms | ActiveRecord: 5.5ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 12:56:23 -0400
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 12:56:23 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/sites/1/documents/3/edit" for 127.0.0.1 at 2011-08-04 12:56:32 -0400
  Processing by DocumentsController#edit as HTML
  Parameters: {"site_id"=>"1", "id"=>"3"}
  [1m[35mDocument Load (0.3ms)[0m  SELECT `documents`.* FROM `documents` WHERE `documents`.`id` = 3 LIMIT 1
  [1m[36mSite Load (0.3ms)[0m  [1mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
Rendered documents/_form.html.haml (13.1ms)
Rendered documents/edit.html.haml within layouts/application (14.5ms)
Completed 200 OK in 44ms (Views: 21.9ms | ActiveRecord: 5.2ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 12:56:32 -0400
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 12:56:32 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started PUT "/sites/1/documents/3" for 127.0.0.1 at 2011-08-04 12:57:03 -0400
  Processing by DocumentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"bIYqapEkuTaw+MWAVDrQ6MpLGE6Zcd+KXtUI3OEZ1Co=", "document"=>{"content"=>"/*\r\nType: Heating Repair\r\nLayer: New City\r\nVariation: 2\r\n*/\r\nHEADER:\tHome Heating repair in [city]\r\n\r\n\r\nINTRO:\tFor generations, American Standard Heating & Air Conditioning has delivered superior home comfort in [city].* So if your furnace isn&rsquo;t functioning as it should, you can feel good knowing that American Standard Heating repair is your reliable source for professional heating repair in [city]; even if your heater is a brand other than American Standard.* Make the right choice for local heating repair â€“choose American Standard. \r\n\r\nCTA 1:\tInvite warmth and comfort back into your home with home heating repair in [city]. Contact your local American Standard Heating & Air Conditioning independent customer care&trade; dealer now.\r\n\r\nCall xxxxxxxxxx today. \r\n\r\nSUB:\tAll American Standard technicians providing heating repair in [city] are:\r\n\r\nBODY:\t\r\n<ul><li>Certified</li>\r\n<li>Insured</li>\r\n<li>Licensed</li>\r\n<li>Highly Trained</li>\r\n</ul>\r\nSUB:\t\tSuperior Heating Repair in [city]; it&rsquo;s our commitment\r\n\r\n\r\nBODY:\tSometimes, even a high quality American Standard heating unit may require upkeep so it continues running smoothly.* Your local independent American Standard dealer offers exceptional heating repair in [city], with a level of personal insight you won&rsquo;t find anywhere else.* Nothing compares to the feeling of knowing that a certified technician who knows exactly what your heating unit needs and provides top notch customer care will handle your heating repair.* What are you waiting for? Book an appointment for heating repair in [city].* Contact your local independent American Standard Heating and Air Conditioning Dealer, today!\r\n\r\n\t\r\n\r\nBODY:\tIf you&rsquo;re seriously thinking about upgrading to a new heating unit instead of opting for Heating repair in [city], our American Standard Heating & Air Conditioning independent customer care&trade; dealer has a wide selection of energy saving products that set the standard in efficient home heating and deliver top quality customer service. \r\n\r\nBODY: At American Standard, we believe in the advanced quality of every heater we produce and every American Standard Heating & Air Conditioning independent customer care&trade; dealer believes just as intensely in the Heating repair service they provide, so you can feel assured about your Heating repair service in [city].\r\n\r\nCALL:\tContact your local independent American Standard Heating and Heating Dealer today, to schedule Heating repair in [city] xxx xxx xxxx!"}, "commit"=>"Update Document", "site_id"=>"1", "id"=>"3"}
  [1m[35mDocument Load (0.3ms)[0m  SELECT `documents`.* FROM `documents` WHERE `documents`.`id` = 3 LIMIT 1
  [1m[36mDocument Load (0.2ms)[0m  [1mSELECT `documents`.* FROM `documents` WHERE `documents`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mUPDATE `documents` SET `content` = '/*\r\nType: Heating Repair\r\nLayer: New City\r\nVariation: 2\r\n*/\r\nHEADER:	Home Heating repair in [city]\r\n\r\n\r\nINTRO:	For generations, American Standard Heating & Air Conditioning has delivered superior home comfort in [city].* So if your furnace isn&rsquo;t functioning as it should, you can feel good knowing that American Standard Heating repair is your reliable source for professional heating repair in [city]; even if your heater is a brand other than American Standard.* Make the right choice for local heating repair â€“choose American Standard. \r\n\r\nCTA 1:	Invite warmth and comfort back into your home with home heating repair in [city]. Contact your local American Standard Heating & Air Conditioning independent customer care&trade; dealer now.\r\n\r\nCall xxxxxxxxxx today. \r\n\r\nSUB:	All American Standard technicians providing heating repair in [city] are:\r\n\r\nBODY:	\r\n<ul><li>Certified</li>\r\n<li>Insured</li>\r\n<li>Licensed</li>\r\n<li>Highly Trained</li>\r\n</ul>\r\nSUB:		Superior Heating Repair in [city]; it&rsquo;s our commitment\r\n\r\n\r\nBODY:	Sometimes, even a high quality American Standard heating unit may require upkeep so it continues running smoothly.* Your local independent American Standard dealer offers exceptional heating repair in [city], with a level of personal insight you won&rsquo;t find anywhere else.* Nothing compares to the feeling of knowing that a certified technician who knows exactly what your heating unit needs and provides top notch customer care will handle your heating repair.* What are you waiting for? Book an appointment for heating repair in [city].* Contact your local independent American Standard Heating and Air Conditioning Dealer, today!\r\n\r\n	\r\n\r\nBODY:	If you&rsquo;re seriously thinking about upgrading to a new heating unit instead of opting for Heating repair in [city], our American Standard Heating & Air Conditioning independent customer care&trade; dealer has a wide selection of energy saving products that set the standard in efficient home heating and deliver top quality customer service. \r\n\r\nBODY: At American Standard, we believe in the advanced quality of every heater we produce and every American Standard Heating & Air Conditioning independent customer care&trade; dealer believes just as intensely in the Heating repair service they provide, so you can feel assured about your Heating repair service in [city].\r\n\r\nCALL:	Contact your local independent American Standard Heating and Heating Dealer today, to schedule Heating repair in [city] xxx xxx xxxx!', `updated_at` = '2011-08-04 16:57:04' WHERE `documents`.`id` = 3[0m
  [1m[35m (25.6ms)[0m  COMMIT
Redirected to 
Completed 500 Internal Server Error in 133ms

NoMethodError (undefined method `document_url' for #<DocumentsController:0x00000100ae0348>):
  app/controllers/documents_controller.rb:67:in `block (2 levels) in update'
  app/controllers/documents_controller.rb:65:in `update'

Rendered /Users/aaronmcleod/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.1.0.rc5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /Users/aaronmcleod/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.1.0.rc5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.0ms)
Rendered /Users/aaronmcleod/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.1.0.rc5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.2ms)


Started PUT "/sites/1/documents/3" for 127.0.0.1 at 2011-08-04 13:01:17 -0400
  Processing by DocumentsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"bIYqapEkuTaw+MWAVDrQ6MpLGE6Zcd+KXtUI3OEZ1Co=", "document"=>{"content"=>"/*\r\nType: Heating Repair\r\nLayer: New City\r\nVariation: 2\r\n*/\r\nHEADER:\tHome Heating repair in [city]\r\n\r\n\r\nINTRO:\tFor generations, American Standard Heating & Air Conditioning has delivered superior home comfort in [city].* So if your furnace isn&rsquo;t functioning as it should, you can feel good knowing that American Standard Heating repair is your reliable source for professional heating repair in [city]; even if your heater is a brand other than American Standard.* Make the right choice for local heating repair â€“choose American Standard. \r\n\r\nCTA 1:\tInvite warmth and comfort back into your home with home heating repair in [city]. Contact your local American Standard Heating & Air Conditioning independent customer care&trade; dealer now.\r\n\r\nCall xxxxxxxxxx today. \r\n\r\nSUB:\tAll American Standard technicians providing heating repair in [city] are:\r\n\r\nBODY:\t\r\n<ul><li>Certified</li>\r\n<li>Insured</li>\r\n<li>Licensed</li>\r\n<li>Highly Trained</li>\r\n</ul>\r\nSUB:\t\tSuperior Heating Repair in [city]; it&rsquo;s our commitment\r\n\r\n\r\nBODY:\tSometimes, even a high quality American Standard heating unit may require upkeep so it continues running smoothly.* Your local independent American Standard dealer offers exceptional heating repair in [city], with a level of personal insight you won&rsquo;t find anywhere else.* Nothing compares to the feeling of knowing that a certified technician who knows exactly what your heating unit needs and provides top notch customer care will handle your heating repair.* What are you waiting for? Book an appointment for heating repair in [city].* Contact your local independent American Standard Heating and Air Conditioning Dealer, today!\r\n\r\n\t\r\n\r\nBODY:\tIf you&rsquo;re seriously thinking about upgrading to a new heating unit instead of opting for Heating repair in [city], our American Standard Heating & Air Conditioning independent customer care&trade; dealer has a wide selection of energy saving products that set the standard in efficient home heating and deliver top quality customer service. \r\n\r\nBODY: At American Standard, we believe in the advanced quality of every heater we produce and every American Standard Heating & Air Conditioning independent customer care&trade; dealer believes just as intensely in the Heating repair service they provide, so you can feel assured about your Heating repair service in [city].\r\n\r\nCALL:\tContact your local independent American Standard Heating and Heating Dealer today, to schedule Heating repair in [city] xxx xxx xxxx!"}, "commit"=>"Update Document", "site_id"=>"1", "id"=>"3"}
  [1m[36mDocument Load (0.3ms)[0m  [1mSELECT `documents`.* FROM `documents` WHERE `documents`.`id` = 3 LIMIT 1[0m
  [1m[35mDocument Load (0.3ms)[0m  SELECT `documents`.* FROM `documents` WHERE `documents`.`id` = 1 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
Redirected to 
Completed 500 Internal Server Error in 101ms

NoMethodError (undefined method `document_url' for #<DocumentsController:0x00000100dfa358>):
  app/controllers/documents_controller.rb:67:in `block (2 levels) in update'
  app/controllers/documents_controller.rb:65:in `update'

Rendered /Users/aaronmcleod/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.1.0.rc5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /Users/aaronmcleod/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.1.0.rc5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
Rendered /Users/aaronmcleod/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.1.0.rc5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (5.7ms)


Started GET "/sites/1/documents/3" for 127.0.0.1 at 2011-08-04 13:02:29 -0400
  Processing by DocumentsController#show as HTML
  Parameters: {"site_id"=>"1", "id"=>"3"}
  [1m[36mDocument Load (0.3ms)[0m  [1mSELECT `documents`.* FROM `documents` WHERE `documents`.`id` = 3 LIMIT 1[0m
  [1m[35mSite Load (0.3ms)[0m  SELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1
Rendered documents/show.html.haml within layouts/application (61.1ms)
Completed 200 OK in 92ms (Views: 68.2ms | ActiveRecord: 6.4ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 13:02:30 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 13:02:30 -0400
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/sites/1" for 127.0.0.1 at 2011-08-04 13:02:32 -0400
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSite Load (0.3ms)[0m  [1mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  [1m[35mDocument Load (0.4ms)[0m  SELECT `documents`.* FROM `documents` WHERE `documents`.`site_id` = 1
Rendered sites/show.html.haml within layouts/application (34.7ms)
Completed 200 OK in 47ms (Views: 38.9ms | ActiveRecord: 6.1ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-04 13:02:32 -0400
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-04 13:02:32 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started POST "/compile_documents/1.csv" for 127.0.0.1 at 2011-08-04 13:02:35 -0400
  Processing by SitesController#compile_documents as CSV
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"bIYqapEkuTaw+MWAVDrQ6MpLGE6Zcd+KXtUI3OEZ1Co=", "commit"=>"Compile Documents", "id"=>"1"}
  [1m[36mSite Load (0.3ms)[0m  [1mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  [1m[35mDocument Load (0.5ms)[0m  SELECT `documents`.* FROM `documents` WHERE `documents`.`site_id` = 1
********Output********* New City HEADER1,Reliable Air Conditioning repair in [city],1-Air Conditioning Repair
********Output********* New City INTRO1 S1,"American Standard Heating and Air Conditioning is a name families have relied on to deliver superior home comfort in [city] for years.* So if your air conditioner has stopped performing as it should, you can feel confident knowing that the same reliable quality can also be found with our air conditioning repair, even if your air conditioning unit came from someplace else.* American Standard; a name you can believe in for quality heating, air conditioning repair in [city].",1-Air Conditioning Repair
********Output********* New City CTA 1 S1,Need to schedule an appointment for air conditioning repair in [city]?* Contact the independent American Standard dealer nearest you.,1-Air Conditioning Repair
********Output********* New City CTA 1 S2,Call xxxxxxxxxx today.,1-Air Conditioning Repair
********Output********* New City SUB1,The American Standard technician performing your air conditioning repair is:,1-Air Conditioning Repair
********Output********* New City BULLETS1,<ul><li>Certified</li><li>Insured</li><li>Licensed</li><li>Highly Trained</li></ul>,1-Air Conditioning Repair
********Output********* New City SUB2,Save on air conditioning Repair in [city],1-Air Conditioning Repair
********Output********* New City BODY1 S1,"Although your American Standard air conditioner was designed for years of worry-free performance, there are times when it may require special attention.",1-Air Conditioning Repair
********Output********* New City BODY1 S2,"Your local, authorized American Standard HVAC dealer provides the best in quality air conditioning repair in [city].* So you can feel confident knowing that your air conditioning repair will be handled by a certified technician with expert knowledge and a commitment to providing you with a superior level of customer service.",1-Air Conditioning Repair
********Output********* New City BODY1 S3,Need a quote on air conditioning repair in [city]?,1-Air Conditioning Repair
********Output********* New City BODY1 S4,"Contact your local independent American Standard Heating and Air Conditioning Dealer, now!",1-Air Conditioning Repair
********Output********* New City BODY2 S1,"If you&rsquo;re thinking about purchasing a new system rather than opting for air conditioning repair in [city], our independant customer care&trade; dealers deliver top quality customer service and a selection of energy saving products that set the standard in efficient home air conditioning.*",1-Air Conditioning Repair
********Output********* New City BODY3 S1,"At American Standard, we stand behind every air conditioner we make and independant customer care&trade; dealers stand behind every air conditioning repair service they provide, so if the time has come for air conditioning repair in [city], their qualified technicians will provide possible remedies so you can get back to enjoying your home in comfort.*",1-Air Conditioning Repair
********Output********* New City CALL1 S1,"Contact your local independent American Standard Heating and Air Conditioning customer care&trade; dealers today, to schedule air conditioning repair in [city] xxx xxx xxxx!",1-Air Conditioning Repair
********Output********* New City HEAD1,American Standard Air Conditioning in [city],2-Air Conditioning Sales
********Output********* New City INTRO1 S1,"Enhance home comfort while conserving energy, with dependable, energy-efficient air conditioning in [city] from American Standard.* Our outstanding line of home comfort products feature some of the industry&rsquo;s highest rated and consumer tested products available today.*  We manufacture an American Standard air conditioning system that&rsquo;s just right for your home comfort needs.* To learn more, talk to your local American Standard Heating & Air Conditioning independent customer care&trade; dealer today.",2-Air Conditioning Sales
********Output********* New City CALL1 S1,Talk to your local American Standard Heating & Air Conditioning independent customer care&trade; dealer about air conditioning in [city]!,2-Air Conditioning Sales
********Output********* New City CALL1 S2,Call xxx-xxx-xxxx!,2-Air Conditioning Sales
********Output********* New City SUB1,"For experts in air conditioning in [city], call an American Standard dealer",2-Air Conditioning Sales
********Output********* New City BODY1,<h3>Our dealers are:</h3><ul><li>Highly Trained</li><li>Knowledgeable</li> <li>Certified</li><li>Local</li></ul>,2-Air Conditioning Sales
********Output********* New City SUB2,Increase home comfort while decreasing energy expenditures,2-Air Conditioning Sales
********Output********* New City BODY2 S1,"American Standard HVAC will help you find the air conditioning system that&rsquo;s ideal for your home by keeping you cool and comfortable, and energy costs low.* Your local independent American Standard dealer knows air conditioning systems and will help select the one that fits the size of your home and the size of your budget &hellip;in fact, with air conditioning in [city] from American Standard; you may be able to save up to 50% on your cooling bill.",2-Air Conditioning Sales
********Output********* New City BODY3 S1,"The Heritage Hybrid&trade; heating system is an excellent example of our energy-efficient home heating systems offered here in [city].*  The Heritage Hybrid&trade; heating system selects between a furnace or a heat pump depending on the outside temperature, ensuring you only use the most efficient fuel source for the conditions outside.*  Contact your local independent American Standard dealer if you want to learn more about installing an American Standard air conditioning in [city], now.",2-Air Conditioning Sales
********Output********* New City SUB3,Year-round comfort is easy with American Standard,2-Air Conditioning Sales
********Output********* New City BODY4 S1,"At American Standard HVAC, we want you to feel comfortable in your home no matter what the weather is like outside.* Whether you need new air conditioning in [city], home heating, or an air filtration system, look to the professionals in Air Conditioning and Home Heating â€“American Standard Heating & Air Conditioning.",2-Air Conditioning Sales
********Output********* New City CALL2 S1,Ready to learn more about air conditioning in [city]?,2-Air Conditioning Sales
********Output********* New City CALL2 S2,Contact your local independent American Standard Heating & Air Conditioning independent customer care&trade; dealer in [city].,2-Air Conditioning Sales
********Output********* New City HEADER1,Home Heating repair in [city],2-Heating Repair
********Output********* New City INTRO1 S1,"For generations, American Standard Heating & Air Conditioning has delivered superior home comfort in [city].* So if your furnace isn&rsquo;t functioning as it should, you can feel good knowing that American Standard Heating repair is your reliable source for professional heating repair in [city]; even if your heater is a brand other than American Standard.* Make the right choice for local heating repair â€“choose American Standard.",2-Heating Repair
********Output********* New City CTA 1 S1,Invite warmth and comfort back into your home with home heating repair in [city].,2-Heating Repair
********Output********* New City CTA 1 S2,Contact your local American Standard Heating & Air Conditioning independent customer care&trade; dealer now.,2-Heating Repair
********Output********* New City CTA 1 S3,Call xxxxxxxxxx today.,2-Heating Repair
********Output********* New City SUB1,All American Standard technicians providing heating repair in [city] are:,2-Heating Repair
********Output********* New City BODY1,<ul><li>Certified</li><li>Insured</li><li>Licensed</li><li>Highly Trained</li></ul>,2-Heating Repair
********Output********* New City SUB2,Superior Heating Repair in [city]; it&rsquo;s our commitment,2-Heating Repair
********Output********* New City BODY2 S1,"Sometimes, even a high quality American Standard heating unit may require upkeep so it continues running smoothly.* Your local independent American Standard dealer offers exceptional heating repair in [city], with a level of personal insight you won&rsquo;t find anywhere else.* Nothing compares to the feeling of knowing that a certified technician who knows exactly what your heating unit needs and provides top notch customer care will handle your heating repair.* What are you waiting for?",2-Heating Repair
********Output********* New City BODY2 S2,"Book an appointment for heating repair in [city].* Contact your local independent American Standard Heating and Air Conditioning Dealer, today!",2-Heating Repair
********Output********* New City BODY3 S1,"If you&rsquo;re seriously thinking about upgrading to a new heating unit instead of opting for Heating repair in [city], our American Standard Heating & Air Conditioning independent customer care&trade; dealer has a wide selection of energy saving products that set the standard in efficient home heating and deliver top quality customer service.",2-Heating Repair
********Output********* New City BODY4 S1,"At American Standard, we believe in the advanced quality of every heater we produce and every American Standard Heating & Air Conditioning independent customer care&trade; dealer believes just as intensely in the Heating repair service they provide, so you can feel assured about your Heating repair service in [city].",2-Heating Repair
********Output********* New City CALL1 S1,"Contact your local independent American Standard Heating and Heating Dealer today, to schedule Heating repair in [city] xxx xxx xxxx!",2-Heating Repair
********Output********* New City HEAD1,<!-- empty -->,empty for: Air Conditioning Repair
********Output********* New City CALL1 S2,<!-- empty -->,empty for: Air Conditioning Repair
********Output********* New City BODY1,<!-- empty -->,empty for: Air Conditioning Repair
********Output********* New City SUB3,<!-- empty -->,empty for: Air Conditioning Repair
********Output********* New City BODY4 S1,<!-- empty -->,empty for: Air Conditioning Repair
********Output********* New City CALL2 S1,<!-- empty -->,empty for: Air Conditioning Repair
********Output********* New City CALL2 S2,<!-- empty -->,empty for: Air Conditioning Repair
********Output********* New City CTA 1 S3,<!-- empty -->,empty for: Air Conditioning Repair
********Output********* New City BODY2 S2,<!-- empty -->,empty for: Air Conditioning Repair
********Output********* New City HEADER1,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City CTA 1 S1,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City CTA 1 S2,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City BULLETS1,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City BODY1 S1,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City BODY1 S2,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City BODY1 S3,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City BODY1 S4,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City CTA 1 S3,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City BODY2 S2,<!-- empty -->,empty for: Air Conditioning Sales
********Output********* New City BULLETS1,<!-- empty -->,empty for: Heating Repair
********Output********* New City BODY1 S1,<!-- empty -->,empty for: Heating Repair
********Output********* New City BODY1 S2,<!-- empty -->,empty for: Heating Repair
********Output********* New City BODY1 S3,<!-- empty -->,empty for: Heating Repair
********Output********* New City BODY1 S4,<!-- empty -->,empty for: Heating Repair
********Output********* New City HEAD1,<!-- empty -->,empty for: Heating Repair
********Output********* New City CALL1 S2,<!-- empty -->,empty for: Heating Repair
********Output********* New City SUB3,<!-- empty -->,empty for: Heating Repair
********Output********* New City CALL2 S1,<!-- empty -->,empty for: Heating Repair
********Output********* New City CALL2 S2,<!-- empty -->,empty for: Heating Repair
Rendered text template (0.0ms)
Sent data Test.csv (4.2ms)
Completed 200 OK in 76ms (Views: 4.0ms | ActiveRecord: 5.9ms)


Started GET "/assets/rails.png" for 127.0.0.1 at 2011-08-06 16:10:17 -0400
Served asset /rails.png - 304 Not Modified (363ms)


Started GET "/sites/1" for 127.0.0.1 at 2011-08-06 16:10:25 -0400
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSite Load (1.3ms)[0m  [1mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  [1m[35mDocument Load (0.4ms)[0m  SELECT `documents`.* FROM `documents` WHERE `documents`.`site_id` = 1
Rendered sites/show.html.haml within layouts/application (255.5ms)
Completed 200 OK in 360ms (Views: 308.8ms | ActiveRecord: 48.0ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-06 16:10:26 -0400
Served asset /application.css - 304 Not Modified (17ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-06 16:10:26 -0400
Served asset /application.js - 304 Not Modified (28ms)


Started GET "/sites/1/documents/1/edit" for 127.0.0.1 at 2011-08-06 16:10:27 -0400
  Processing by DocumentsController#edit as HTML
  Parameters: {"site_id"=>"1", "id"=>"1"}
  [1m[36mDocument Load (0.3ms)[0m  [1mSELECT `documents`.* FROM `documents` WHERE `documents`.`id` = 1 LIMIT 1[0m
  [1m[35mSite Load (0.3ms)[0m  SELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1
Rendered documents/_form.html.haml (47.3ms)
Rendered documents/edit.html.haml within layouts/application (98.2ms)
Completed 200 OK in 195ms (Views: 173.0ms | ActiveRecord: 5.3ms)


Started GET "/assets/application.css" for 127.0.0.1 at 2011-08-06 16:10:28 -0400
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/application.js" for 127.0.0.1 at 2011-08-06 16:10:28 -0400
Served asset /application.js - 304 Not Modified (0ms)


Started POST "/compile_documents/1.csv" for 127.0.0.1 at 2011-08-06 16:10:45 -0400
  Processing by SitesController#compile_documents as CSV
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"YdiN7KIX9A2bCw+Yvproovf2+SzLFc3Y6t0thgonSoc=", "commit"=>"Compile Documents", "id"=>"1"}
  [1m[36mSite Load (0.3ms)[0m  [1mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  [1m[35mDocument Load (0.6ms)[0m  SELECT `documents`.* FROM `documents` WHERE `documents`.`site_id` = 1
Rendered text template (0.0ms)
Sent data Test.csv (30.0ms)
Completed 200 OK in 211ms (Views: 29.9ms | ActiveRecord: 6.4ms)
